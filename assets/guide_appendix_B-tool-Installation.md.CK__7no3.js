import{_ as s,o as a,c as n,ak as e}from"./chunks/framework.CGzjHEBf.js";const b=JSON.parse('{"title":"附录B：工具安装","description":"介绍常见工具的安装方法。","frontmatter":{"title":"附录B：工具安装","description":"介绍常见工具的安装方法。"},"headers":[],"relativePath":"guide/appendix/B-tool-Installation.md","filePath":"zh/guide/appendix/B-tool-Installation.md"}'),l={name:"guide/appendix/B-tool-Installation.md"};function t(h,i,r,p,d,k){return a(),n("div",null,[...i[0]||(i[0]=[e(`<h1 id="附录b-工具安装" tabindex="-1">附录B：工具安装 <a class="header-anchor" href="#附录b-工具安装" aria-label="Permalink to “附录B：工具安装”">​</a></h1><h2 id="_1-引言" tabindex="-1">1.引言 <a class="header-anchor" href="#_1-引言" aria-label="Permalink to “1.引言”">​</a></h2><p>医学影像的算法开发通常依赖多种工具链的协作，本章将介绍本教程所需的核心环境，包括 <strong>Python、ASTRA、BART、MONAI、NiBabel</strong> 等基础组件。我们将从基础 Python 环境配置开始，逐步说明如何安装 CT 重建库（ASTRA）、MRI 重建工具箱（BART）、深度学习框架（MONAI）与医学影像文件读写工具（NiBabel）。通过本节内容，读者可以快速搭建一个完整、可复现的医学影像开发与重建实验环境。</p><h2 id="_2-直接安装-python" tabindex="-1">2.直接安装 python <a class="header-anchor" href="#_2-直接安装-python" aria-label="Permalink to “2.直接安装 python”">​</a></h2><h3 id="_2-1-window-系统" tabindex="-1">2.1.window 系统 <a class="header-anchor" href="#_2-1-window-系统" aria-label="Permalink to “2.1.window 系统”">​</a></h3><h4 id="_2-1-1-下载-python-安装程序" tabindex="-1">2.1.1.下载 Python 安装程序 <a class="header-anchor" href="#_2-1-1-下载-python-安装程序" aria-label="Permalink to “2.1.1.下载 Python 安装程序”">​</a></h4><p><strong>推荐方式：从 Python 官网下载安装包</strong></p><ol><li>打开浏览器，访问：<code>https://www.python.org</code></li><li>顶部导航栏点击 <strong>Downloads</strong></li><li>页面会自动推荐适合 Windows 的版本，比如：<strong>Download Python 3.xx</strong></li><li>点击这个按钮，下载一个 <code>.exe</code>​ 安装程序（例如：<code>python-3.12.3-amd64.exe</code>）</li></ol><h4 id="_2-1-2-运行安装程序-最关键的一步" tabindex="-1">2.1.2. 运行安装程序（最关键的一步） <a class="header-anchor" href="#_2-1-2-运行安装程序-最关键的一步" aria-label="Permalink to “2.1.2. 运行安装程序（最关键的一步）”">​</a></h4><p>双击下载好的 <code>python-3.xx-amd64.exe</code>，按下面步骤设置：</p><ol><li><p>安装界面最下面有一行：</p><ul><li>✅ <strong>务必勾选：</strong>​<strong>​<code>Add Python 3.xx to PATH</code>​</strong></li><li>这一步决定以后能不能在命令行里直接使用 <code>python</code> 命令，非常重要。</li></ul></li><li><p>在 <strong>Customize installation</strong> 里：</p><ol><li><p><strong>Optional Features（可选功能）</strong><br> 建议全部勾上：</p><ul><li>✅ <code>pip</code>（Python 包管理器，必须）</li><li>✅ <code>IDLE</code>（自带小编辑器，可视化调试简单脚本）</li><li>✅ <code>Documentation</code></li><li>✅ <code>Python test suite</code></li><li>✅ <code>py launcher</code>​<br> 然后点击 <strong>Next</strong></li></ul></li><li><p>​<strong>Advanced Options（高级选项）</strong> ：<br> 建议勾选：</p><ul><li>✅ <code>Install for all users</code>​（多用户电脑建议，路径会在 <code>C:\\Program Files\\Python3x</code>）</li><li>✅ <code>Add Python to environment variables</code>（如果前面漏勾 PATH，这里一定要勾上）</li><li>✅ <code>Precompile standard library</code>（加快首次运行速度）</li></ul></li></ol></li></ol><h4 id="_2-1-3-验证-python-是否安装成功" tabindex="-1">2.1.3. 验证 Python 是否安装成功 <a class="header-anchor" href="#_2-1-3-验证-python-是否安装成功" aria-label="Permalink to “2.1.3. 验证 Python 是否安装成功”">​</a></h4><p>安装完成后，按下面步骤检查：</p><ol><li><p>按 <code>Win</code>​ 键，输入 <code>cmd</code>​，打开 <strong>命令提示符（Command Prompt）</strong></p></li><li><p>在黑窗口里输入：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>或</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">py</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>如果看到类似：</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Python 3.12.3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>说明安装成功，PATH 也生效了。</p></li></ol><hr><h4 id="_2-1-4-验证-pip-是否可用" tabindex="-1">2.1.4. 验证 pip 是否可用 <a class="header-anchor" href="#_2-1-4-验证-pip-是否可用" aria-label="Permalink to “2.1.4. 验证 pip 是否可用”">​</a></h4><p>在同一个命令行里输入：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果看到类似：</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>pip 24.x from C:\\Python\\Python312\\Lib\\site-packages\\pip (python 3.12)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>说明 <code>pip</code>​ 已安装成功，可以用来安装后续的 <code>monai</code>​、<code>nibabel</code> 等包。</p><h3 id="_2-2-linux-系统" tabindex="-1">2.2.Linux 系统 <a class="header-anchor" href="#_2-2-linux-系统" aria-label="Permalink to “2.2.Linux 系统”">​</a></h3><h4 id="_2-2-1-检查系统是否已安装-python" tabindex="-1">2.2.1. 检查系统是否已安装 Python <a class="header-anchor" href="#_2-2-1-检查系统是否已安装-python" aria-label="Permalink to “2.2.1. 检查系统是否已安装 Python”">​</a></h4><p>打开终端（Terminal），输入：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果看到类似输出：</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Python 3.10.12</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>说明系统已经有 Python3 了，一般可以直接使用。</p><p>再检查 <code>pip</code> 是否存在：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果提示 “command not found”，说明还没安装 pip，后面会安装。</p><h4 id="_2-2-2-使用包管理器安装-python-ubuntu-debian" tabindex="-1">2.2.2. 使用包管理器安装 Python（Ubuntu / Debian） <a class="header-anchor" href="#_2-2-2-使用包管理器安装-python-ubuntu-debian" aria-label="Permalink to “2.2.2. 使用包管理器安装 Python（Ubuntu / Debian）”">​</a></h4><p>2.1 更新软件源</p><p>先更新一下软件包列表：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>2.2 安装 Python3 与常用依赖</p><p>执行：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python3-pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python3-venv</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>说明：</p><ul><li>​<code>python3</code>：Python 解释器</li><li>​<code>python3-pip</code>：Python 包管理工具 pip</li><li>​<code>python3-venv</code>：用于创建虚拟环境（不装 Conda 的情况下非常有用）</li></ul><p>安装完成后再次确认版本：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_3-使用-conda-安装-python-推荐" tabindex="-1">3.使用 conda 安装 python（推荐） <a class="header-anchor" href="#_3-使用-conda-安装-python-推荐" aria-label="Permalink to “3.使用 conda 安装 python（推荐）”">​</a></h2><p>Conda 是数据科学与医学影像领域最常用的环境管理工具，能够为不同项目创建彼此独立的 Python 环境，避免包冲突。<br> 本节将介绍如何在 <strong>Windows / Linux</strong> 上安装 Conda（Miniconda）并创建干净可控的 Python 环境。</p><h3 id="_3-1-下载并安装-miniconda-推荐" tabindex="-1">3.1. 下载并安装 Miniconda（推荐） <a class="header-anchor" href="#_3-1-下载并安装-miniconda-推荐" aria-label="Permalink to “3.1. 下载并安装 Miniconda（推荐）”">​</a></h3><p><strong>为什么用 Miniconda 而不是 Anaconda？</strong></p><ul><li>Miniconda 更轻量，不会额外安装上千个不必要的包</li><li>更适合科研项目与医学影像工程</li><li>完全兼容 Anaconda 的功能</li></ul><h3 id="_3-2-windows-安装-miniconda" tabindex="-1">3.2. Windows 安装 Miniconda <a class="header-anchor" href="#_3-2-windows-安装-miniconda" aria-label="Permalink to “3.2. Windows 安装 Miniconda”">​</a></h3><h4 id="步骤-1-下载安装包" tabindex="-1"><strong>步骤 1：下载安装包</strong> <a class="header-anchor" href="#步骤-1-下载安装包" aria-label="Permalink to “步骤 1：下载安装包”">​</a></h4><p>访问官网：</p><p>👉 <a href="https://repo.anaconda.com/miniconda/" target="_blank" rel="noreferrer">https://repo.anaconda.com/miniconda/</a></p><p>选择：</p><ul><li><strong>Miniconda3 Windows 64-bit Installer (.exe)</strong></li></ul><h4 id="步骤-2-运行安装程序" tabindex="-1"><strong>步骤 2：运行安装程序</strong> <a class="header-anchor" href="#步骤-2-运行安装程序" aria-label="Permalink to “步骤 2：运行安装程序”">​</a></h4><p>双击安装包：</p><ol><li><p>选择 <strong>Just Me</strong> 或 <strong>All Users</strong></p></li><li><p><strong>重要：勾选 &quot;Add Miniconda3 to my PATH environment variable&quot;</strong></p><ul><li>如果没有勾选，也没关系，Conda 会自动加入 PATH 针对 CMD / PowerShell</li></ul></li><li><p>点击 Install</p></li></ol><h5 id="步骤-3-验证安装" tabindex="-1"><strong>步骤 3：验证安装</strong> <a class="header-anchor" href="#步骤-3-验证安装" aria-label="Permalink to “步骤 3：验证安装”">​</a></h5><p>打开 <em>Anaconda Prompt</em> 或 CMD：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>若显示：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>conda 24.x.x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>则安装成功。</p><h3 id="_3-3-linux-安装-miniconda" tabindex="-1">3.3 Linux 安装 Miniconda <a class="header-anchor" href="#_3-3-linux-安装-miniconda" aria-label="Permalink to “3.3 Linux 安装 Miniconda”">​</a></h3><h3 id="步骤-1-下载安装脚本" tabindex="-1"><strong>步骤 1：下载安装脚本</strong> <a class="header-anchor" href="#步骤-1-下载安装脚本" aria-label="Permalink to “步骤 1：下载安装脚本”">​</a></h3><p>访问官网：</p><p>👉 <a href="https://docs.conda.io/en/latest/miniconda.html" target="_blank" rel="noreferrer">https://docs.conda.io/en/latest/miniconda.html</a></p><p>复制 Linux 安装脚本链接，例如：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="步骤-2-运行安装脚本" tabindex="-1"><strong>步骤 2：运行安装脚本</strong> <a class="header-anchor" href="#步骤-2-运行安装脚本" aria-label="Permalink to “步骤 2：运行安装脚本”">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Miniconda3-latest-Linux-x86_64.sh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>按提示操作：</p><ul><li>阅读并同意协议</li><li>选择安装路径（默认即可：<code>~/miniconda3</code>）</li><li>选择是否初始化 conda（推荐 YES）</li></ul><h3 id="步骤-3-使-conda-生效" tabindex="-1"><strong>步骤 3：使 conda 生效</strong> <a class="header-anchor" href="#步骤-3-使-conda-生效" aria-label="Permalink to “步骤 3：使 conda 生效”">​</a></h3><p>如果你刚才选择了 YES，只需重新打开终端即可。<br> 如果选择了 NO，需要手动运行：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/miniconda3/bin/activate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>验证：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="步骤4-创建一个新的-python-环境-最关键" tabindex="-1">步骤4：创建一个新的 Python 环境（最关键） <a class="header-anchor" href="#步骤4-创建一个新的-python-环境-最关键" aria-label="Permalink to “步骤4：创建一个新的 Python 环境（最关键）”">​</a></h4><p>无论 Windows / Linux，下面步骤完全一致。</p><p>创建一个医学影像项目专用环境，例如 <code>medimg</code>：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> medimg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.10</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>解释：</p><ul><li>​<code>-n medimg</code>：环境名字</li><li>​<code>python=3.10</code>：指定 Python 版本（最兼容 MONAI/ASTRA/BART）</li></ul></blockquote><p>激活环境：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> medimg</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>验证：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>你应该看到：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Python 3.10.x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_4-安装-astra" tabindex="-1">4.安装 ASTRA <a class="header-anchor" href="#_4-安装-astra" aria-label="Permalink to “4.安装 ASTRA”">​</a></h2><h3 id="_4-1-astra-toolbox-简介" tabindex="-1">4.1.ASTRA Toolbox 简介 <a class="header-anchor" href="#_4-1-astra-toolbox-简介" aria-label="Permalink to “4.1.ASTRA Toolbox 简介”">​</a></h3><blockquote><p><strong>ASTRA Toolbox 官方链接：</strong></p><ul><li>官方网站：<a href="https://astra-toolbox.com/" target="_blank" rel="noreferrer">https://astra-toolbox.com/</a></li><li>GitHub 仓库：<a href="https://github.com/astra-toolbox/astra-toolbox" target="_blank" rel="noreferrer">https://github.com/astra-toolbox/astra-toolbox</a></li></ul></blockquote><p>​<strong>ASTRA Toolbox</strong>​（All Scale Tomographic Reconstruction Antwerp）是一个专门用于 <strong>X 射线断层成像（CT）</strong> 的高性能计算库。它提供了 GPU 加速的投影与重建算法，是科研人员进行：</p><ul><li>平行束 / 扇束 / 圆锥束 CT 几何模拟</li><li>前向投影（forward projection）</li><li>FBP（Filtered Back Projection）快速重建</li><li>ART、SIRT、CGLS 等迭代重建算法</li><li>深度学习 + CT 模拟 / 重建前处理</li></ul><p>的首选工具之一。</p><h3 id="_4-2-windows-系统安装-astra-toolbox" tabindex="-1">4.2.Windows 系统安装 ASTRA Toolbox <a class="header-anchor" href="#_4-2-windows-系统安装-astra-toolbox" aria-label="Permalink to “4.2.Windows 系统安装 ASTRA Toolbox”">​</a></h3><h4 id="通过-conda-安装-最推荐" tabindex="-1">通过 Conda 安装（最推荐） <a class="header-anchor" href="#通过-conda-安装-最推荐" aria-label="Permalink to “通过 Conda 安装（最推荐）”">​</a></h4><p>这是针对 Windows 的​<strong>首选方式</strong>：简单、稳定、无须编译。</p><h4 id="步骤-1-创建-python-环境" tabindex="-1"><strong>步骤 1：创建 Python 环境</strong> <a class="header-anchor" href="#步骤-1-创建-python-环境" aria-label="Permalink to “步骤 1：创建 Python 环境”">​</a></h4><p>建议先创建一个干净的 Conda 环境（避免污染系统 Python）：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> medimg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.10</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> medimg</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>推荐 Python 3.9–3.11（ASTRA 官方支持范围）。</p></blockquote><h4 id="步骤-2-安装-astra-cpu-版本" tabindex="-1"><strong>步骤 2：安装 ASTRA（CPU 版本）</strong> <a class="header-anchor" href="#步骤-2-安装-astra-cpu-版本" aria-label="Permalink to “步骤 2：安装 ASTRA（CPU 版本）”">​</a></h4><p>Windows 不支持 GPU 版本，因此直接用：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> astra-toolbox</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> astra-toolbox</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Conda 会自动安装：</p><ul><li>astra-toolbox（Python 接口）</li><li>astra-core（C++ 核心库）</li><li>相关依赖（如 numpy、scipy）</li></ul><h3 id="步骤-3-验证安装-1" tabindex="-1"><strong>步骤 3：验证安装</strong> <a class="header-anchor" href="#步骤-3-验证安装-1" aria-label="Permalink to “步骤 3：验证安装”">​</a></h3><p>进入 Python：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>输入：</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> astra</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(astra.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__version__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>正常输出版本号（如 <code>1.10.0</code>）即安装成功。</p><h3 id="_4-3-linux-系统安装-astra-toolbox" tabindex="-1">4.3.Linux 系统安装 ASTRA Toolbox <a class="header-anchor" href="#_4-3-linux-系统安装-astra-toolbox" aria-label="Permalink to “4.3.Linux 系统安装 ASTRA Toolbox”">​</a></h3><h4 id="步骤-1-创建环境-强烈推荐独立环境" tabindex="-1"><strong>步骤 1：创建环境（强烈推荐独立环境）</strong> <a class="header-anchor" href="#步骤-1-创建环境-强烈推荐独立环境" aria-label="Permalink to “步骤 1：创建环境（强烈推荐独立环境）”">​</a></h4><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> medimg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.10</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> medimg</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="步骤-2-安装-astra-自动选择-cpu-gpu" tabindex="-1"><strong>步骤 2：安装 ASTRA（自动选择 CPU/GPU）</strong> <a class="header-anchor" href="#步骤-2-安装-astra-自动选择-cpu-gpu" aria-label="Permalink to “步骤 2：安装 ASTRA（自动选择 CPU/GPU）”">​</a></h4><p>执行官方推荐命令：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> astra-toolbox</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvidia</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> astra-toolbox</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>说明：</p><ul><li>​<code>-c astra-toolbox</code>：ASTRA 官方仓库</li><li>​<code>-c nvidia</code>：用于提供 CUDA runtime（Linux GPU 所需）</li><li>若你系统没有 GPU，会安装 CPU 版本</li><li>若你有 GPU，会安装 GPU 加速版（CUDA runtime 自动安装）</li></ul><p><strong>不需要手动安装 CUDA toolkit！</strong></p><h4 id="步骤-3-测试安装" tabindex="-1"><strong>步骤 3：测试安装</strong> <a class="header-anchor" href="#步骤-3-测试安装" aria-label="Permalink to “步骤 3：测试安装”">​</a></h4><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;EOF&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">import astra</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">print(&quot;ASTRA version:&quot;, astra.__version__)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>输出版本号即成功。</p><h3 id="_4-4-测试安装结果" tabindex="-1">4.4.测试安装结果 <a class="header-anchor" href="#_4-4-测试安装结果" aria-label="Permalink to “4.4.测试安装结果”">​</a></h3><p>可以用此代码验证 ASTRA 是否能正常工作：</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> astra</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numpy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> np</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 64x64 phantom</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vol </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> np.ones((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">dtype</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">np.float32)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vol_geom </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> astra.create_vol_geom(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 平行束几何（180 angles）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">angles </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> np.linspace(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, np.pi, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">180</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">endpoint</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">proj_geom </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> astra.create_proj_geom(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;parallel&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, angles)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pid, sino </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> astra.create_sino(vol, proj_geom)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sino shape:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sino.shape)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>预期输出：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>sino shape: (180, 64)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_5-安装-bart" tabindex="-1">5.安装 BART <a class="header-anchor" href="#_5-安装-bart" aria-label="Permalink to “5.安装 BART”">​</a></h2><h3 id="_5-1-bart-简介" tabindex="-1">5.1.BART 简介 <a class="header-anchor" href="#_5-1-bart-简介" aria-label="Permalink to “5.1.BART 简介”">​</a></h3><blockquote><p>官方网站：<a href="https://mrirecon.github.io/bart/" target="_blank" rel="noreferrer">https://mrirecon.github.io/bart/</a><br> GitHub 仓库：<a href="https://github.com/mrirecon/bart" target="_blank" rel="noreferrer">https://github.com/mrirecon/bart</a><br> 官方文档：<a href="https://bart-doc.readthedocs.io/en/latest/intro.html" target="_blank" rel="noreferrer">https://bart-doc.readthedocs.io/en/latest/intro.html</a><br> Workshop 与示例材料库：<a href="https://github.com/mrirecon/bart-workshop" target="_blank" rel="noreferrer">https://github.com/mrirecon/bart-workshop</a></p></blockquote><p><strong>BART（Berkeley Advanced Reconstruction Toolbox）</strong> 是一个用于 <strong>MRI（磁共振成像）重建、信号处理和快速原型开发的开源工具箱</strong>。它由 UC Berkeley 研发，属于医学影像和 MR 物理学界使用最广泛的重建工具之一，特别适合科研人员使用。</p><p>BART 是一个 ​<strong>高性能 MRI 重建与信号处理工具包</strong>，特点是：</p><ul><li><p><strong>命令行工具 + C 库 + Python/MATLAB 接口</strong></p></li><li><p>支持 ​<strong>基本 MRI 重建</strong>：</p><ul><li>FFT / IFFT</li><li>Sense / pSense</li><li>GRAPPA</li></ul></li><li><p>支持 ​<strong>先进算法</strong>：</p><ul><li>CS（Compressed Sensing 压缩感知）</li><li>L1-wavelet / TV 正则</li><li>LLR, LORAKS, low-rank reconstruction</li><li>NUFFT（非均匀 FFT）</li></ul></li><li><p>支持 MRI 采集几何：</p><ul><li>多通道（multi-coil）数据</li><li>k-space 非均匀采样</li><li>多维数据 (2D/3D/dynamic MRI)</li></ul></li></ul><h3 id="_5-2-windows-系统下安装-bart" tabindex="-1">5.2.Windows 系统下安装 BART <a class="header-anchor" href="#_5-2-windows-系统下安装-bart" aria-label="Permalink to “5.2.Windows 系统下安装 BART”">​</a></h3><h4 id="步骤1-环境准备" tabindex="-1">步骤1：环境准备 <a class="header-anchor" href="#步骤1-环境准备" aria-label="Permalink to “步骤1：环境准备”">​</a></h4><ul><li><p>Windows 系统。</p></li><li><p>安装一个兼容的 <em>GLC 编译器环境</em>（BART 在 Windows 上官方支持有限）。官方给出两种路径：使用 Cygwin 或者用虚拟机运行 Linux。</p></li><li><p>在 Cygwin 环境里，需要安装以下包：</p><ul><li>Devel: gcc, make</li><li>Math: fftw3, fftw3-doc, libfftw3-devel, libfftw3_3</li><li>Math: liblapack-devel, liblapack-doc, liblapack0</li></ul></li><li><p>若希望 GPU 加速（Windows 本身支持较弱）—通常建议在 Linux 下做。文档中指出 “Running BART on Windows is <em>not supported</em>” 但有用户通过 Cygwin/WSL 运行。</p></li></ul><h4 id="步骤2-下载-bart-源码或发行包" tabindex="-1">步骤2：下载 BART 源码或发行包 <a class="header-anchor" href="#步骤2-下载-bart-源码或发行包" aria-label="Permalink to “步骤2：下载 BART 源码或发行包”">​</a></h4><ul><li>打开仓库： <a href="https://github.com/mrirecon/bart" target="_blank" rel="noreferrer">https://github.com/mrirecon/bart</a></li><li>或官方网页： <a href="https://mrirecon.github.io/bart/installation.html" target="_blank" rel="noreferrer">https://mrirecon.github.io/bart/installation.html</a> → 下载最新版 zip/tar 包。</li><li>下载最新 Release（如 version 0.9.00）中的 Windows 支持说明。</li><li>解压压缩文件到某个目录，例如 C:\\tools\\bart-0.9.00\\</li></ul><h4 id="步骤3-使用-cygwin-编译安装" tabindex="-1">步骤3：使用 Cygwin 编译安装 <a class="header-anchor" href="#步骤3-使用-cygwin-编译安装" aria-label="Permalink to “步骤3：使用 Cygwin 编译安装”">​</a></h4><ul><li><p>安装 Cygwin：访问 <a href="https://www.cygwin.com/%EF%BC%8C%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E7%A8%8B%E5%BA%8F%E3%80%82" target="_blank" rel="noreferrer">https://www.cygwin.com/，下载安装程序。</a></p></li><li><p>在安装 Cygwin 时，在安装界面选择对应包（见 “环境准备”）。</p></li><li><p>打开 Cygwin Terminal，在解压的 BART 目录下运行：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /cygdrive/c/tools/bart-0.9.00</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这样会编译 BART 的命令行工具与库。</p></li><li><p>如果希望支持 GPU（视 Windows 下是否有适配、可能失败）可尝试在 Makefile 中添加 <code>CUDA=1</code>，但官方警告 Windows 支持有限。</p></li></ul><h4 id="步骤4-在-windows-cygwin-中验证安装" tabindex="-1">步骤4：在 Windows（Cygwin）中验证安装 <a class="header-anchor" href="#步骤4-在-windows-cygwin-中验证安装" aria-label="Permalink to “步骤4：在 Windows（Cygwin）中验证安装”">​</a></h4><ol><li><p>在 Cygwin shell 中，尝试运行某个 BART 工具命令：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fft</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 如果此命令输出帮助或错误提示 “usage”, 则安装成功</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>在 Python / MATLAB 中调用（如果你编译了 Python 接口）时，确保库路径已在环境变量中。</p></li><li><p>若遇 “command not found” 或库加载失败，可检查环境变量 <code>PATH</code> 是否包含 BART 的 bin 目录，或者 Cygwin 的 usr/bin 是否已链接。</p></li></ol><h4 id="提示与常见问题" tabindex="-1">提示与常见问题 <a class="header-anchor" href="#提示与常见问题" aria-label="Permalink to “提示与常见问题”">​</a></h4><ul><li>Windows 环境下 BART 支持程度低，<strong>强烈推荐</strong>使用 WSL2 或 Linux 虚拟机来运行更稳定。文档明确指出 “Windows support by MSYS2; generic” 或 “Use Cygwin” 等语句。</li><li>若只是为了算法复现实验，也可以在 Windows 上启用 WSL2 安装 Ubuntu，然后在 WSL2 内按照 Linux 安装流程运行。</li><li>编译过程中常见错误：缺少 <code>fftw3</code>​、<code>lapack</code>​、<code>blas</code> 库，确保在 Cygwin 安装时选择对应 dev 包。</li><li>GPU 支持在 Windows 极为不稳定，不推荐用于研究初期。</li></ul><h3 id="_5-3-linux-系统下安装-bart" tabindex="-1">5.3.Linux 系统下安装 BART <a class="header-anchor" href="#_5-3-linux-系统下安装-bart" aria-label="Permalink to “5.3.Linux 系统下安装 BART”">​</a></h3><h3 id="步骤1-环境准备-1" tabindex="-1">步骤1：环境准备 <a class="header-anchor" href="#步骤1-环境准备-1" aria-label="Permalink to “步骤1：环境准备”">​</a></h3><p>推荐先安装的依赖：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    gcc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    make</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    libfftw3-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    liblapacke-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    libpng-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    libopenblas-dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>​<code>gcc</code>​, <code>make</code>：编译工具。</li><li>​<code>libfftw3-dev</code>：FFTW（快速傅里叶变换库）开发包。</li><li>​<code>liblapacke-dev</code>：LAPACK/BLAS 相关开发包。</li><li>​<code>libpng-dev</code>：若需要图像读取/写出支持。</li><li>​<code>libopenblas-dev</code>：推荐加速 BLAS 运算。</li></ul><h4 id="步骤2-下载-bart-源码或-release-包" tabindex="-1">步骤2：下载 BART 源码或 Release 包 <a class="header-anchor" href="#步骤2-下载-bart-源码或-release-包" aria-label="Permalink to “步骤2：下载 BART 源码或 Release 包”">​</a></h4><p>往官方页面或 GitHub 仓库下载最新版本：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/mrirecon/bart.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bart</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>或者从 release 页面下载 <code>.tar.gz</code>：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/mrirecon/bart/archive/v0.9.00.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xzvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v0.9.00.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bart-0.9.00</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="步骤3-编译安装、开启-gpu-加速-可选" tabindex="-1">步骤3：编译安装、开启 GPU 加速（可选） <a class="header-anchor" href="#步骤3-编译安装、开启-gpu-加速-可选" aria-label="Permalink to “步骤3：编译安装、开启 GPU 加速（可选）”">​</a></h3><p>在源码目录中运行：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果你想启用额外功能（如 ISMRMRD 支持）：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ismrmrd</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果你的机器有 NVIDIA 显卡并且你希望使用 GPU 加速，BART 支持 CUDA。</p><p>在编译时在源码目录执行：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clean</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CUDA=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>即可启用 GPU 支持。需要安装对应的 CUDA 版本、NVIDIA 驱动、CUDA Toolkit 等。</p><h3 id="步骤4-安装-python-接口-可选" tabindex="-1">步骤4：安装 Python 接口（可选） <a class="header-anchor" href="#步骤4-安装-python-接口-可选" aria-label="Permalink to “步骤4：安装 Python 接口（可选）”">​</a></h3><p>如果你打算在 Python 中使用 BART，很多版本中源码自带 <code>python/</code> 目录。建议：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>然后在 Python 中测试：</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bart</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bart.print_settings()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="步骤5-验证安装是否成功" tabindex="-1">步骤5：验证安装是否成功 <a class="header-anchor" href="#步骤5-验证安装是否成功" aria-label="Permalink to “步骤5：验证安装是否成功”">​</a></h4><p>在终端执行：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fft</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 显示帮助说明</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>也可以运行一个简单命令行重建工具测试。若能输出版本号、帮助信息或不报错，即表示安装成功。</p><h2 id="_6-安装-monai" tabindex="-1">6.安装 MONAI <a class="header-anchor" href="#_6-安装-monai" aria-label="Permalink to “6.安装 MONAI”">​</a></h2><h3 id="_6-1-monai-简介" tabindex="-1">6.1.MONAI 简介 <a class="header-anchor" href="#_6-1-monai-简介" aria-label="Permalink to “6.1.MONAI 简介”">​</a></h3><blockquote><ul><li>官方网站：<a href="https://monai.dev/" target="_blank" rel="noreferrer">https://monai.dev/</a></li><li>GitHub 仓库：<a href="https://github.com/Project-MONAI/MONAI" target="_blank" rel="noreferrer">https://github.com/Project-MONAI/MONAI</a></li><li>官方文档：<a href="https://docs.monai.io/%EF%BC%88%E5%8C%85%E6%8B%AC%E5%AE%89%E8%A3%85%E6%8C%87%E5%AF%BC%E3%80%81API" target="_blank" rel="noreferrer">https://docs.monai.io/（包括安装指导、API</a> 文档等）</li></ul></blockquote><p><strong>MONAI（Medical Open Network for AI）</strong> 是由 <strong>NVIDIA + 美国 NIH（国立卫生研究院）</strong> 共同主导开发的 ​<strong>医学影像深度学习框架</strong>。<br> 它基于 PyTorch，专门为医学影像任务（CT / MRI / X-ray / Ultrasound）设计，提供从数据加载、预处理、训练、评估到部署的完整工具链。</p><p>MONAI 已成为医学影像 AI 研究中最主流的开源框架之一。</p><h3 id="_6-2-安装前准备" tabindex="-1">6.2.安装前准备 <a class="header-anchor" href="#_6-2-安装前准备" aria-label="Permalink to “6.2.安装前准备”">​</a></h3><p>在安装 MONAI 之前，需要：</p><ul><li>安装 <strong>Miniconda 或 Anaconda</strong></li><li>安装 <strong>Python 3.9–3.11（推荐 3.10）</strong></li><li>可选：安装 NVIDIA 驱动（如需 GPU）</li><li>推荐使用 <strong>独立 conda 环境</strong></li></ul><h3 id="_6-3-安装-pytorch" tabindex="-1">6.3.安装 PyTorch <a class="header-anchor" href="#_6-3-安装-pytorch" aria-label="Permalink to “6.3.安装 PyTorch”">​</a></h3><p>MONAI 依赖 PyTorch，因此必须先安装 PyTorch。</p><p>前往 PyTorch 官方安装页面：</p><p>👉 <a href="https://pytorch.org/" target="_blank" rel="noreferrer">https://pytorch.org/</a></p><p>选择对应系统的指令。</p><p>● CPU 版本（Windows / Linux 通用）</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> torch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> torchvision</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> torchaudio</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>● GPU 版本（以 CUDA 12.4 为例）</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> torch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> torchvision</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> torchaudio</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --index-url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://download.pytorch.org/whl/cu124</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>如果你不知道 CUDA 版本，运行 <code>nvidia-smi</code>（Linux）或查看 NVIDIA 控制面板（Windows）。</p></blockquote><h3 id="_6-4-安装-monai" tabindex="-1">6.4.安装 MONAI <a class="header-anchor" href="#_6-4-安装-monai" aria-label="Permalink to “6.4.安装 MONAI”">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> monai</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>安装可选扩展依赖（可选）</strong></p><p>常用增强包：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;monai[nibabel,skimage,pillow,ignite]&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>全部可选依赖（最完整版）：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;monai[all]&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>适用于科研任务（如 segmentation / registration）。</p><h3 id="_6-5-安装验证" tabindex="-1">6.5.安装验证 <a class="header-anchor" href="#_6-5-安装验证" aria-label="Permalink to “6.5.安装验证”">​</a></h3><p>运行以下 Python 脚本：</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> monai</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MONAI version:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, monai.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__version__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PyTorch version:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, torch.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__version__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CUDA available:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, torch.cuda.is_available())</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>若无报错，且输出现有版本，则说明安装成功。</p><h2 id="_7-安装-nibabel" tabindex="-1">7.安装 NiBabel <a class="header-anchor" href="#_7-安装-nibabel" aria-label="Permalink to “7.安装 NiBabel”">​</a></h2><h3 id="_7-1-nibabel-简介" tabindex="-1">7.1.NiBabel 简介 <a class="header-anchor" href="#_7-1-nibabel-简介" aria-label="Permalink to “7.1.NiBabel 简介”">​</a></h3><blockquote><ul><li>GitHub 仓库（源代码 + issues +开发者） : <a href="https://github.com/nipy/nibabel" target="_blank" rel="noreferrer">https://github.com/nipy/nibabel</a></li><li>官方文档 : <a href="https://nipy.org/nibabel/" target="_blank" rel="noreferrer">https://nipy.org/nibabel/</a></li><li>PyPI : <a href="https://pypi.org/project/nibabel/" target="_blank" rel="noreferrer">https://pypi.org/project/nibabel/</a></li></ul></blockquote><p>NiBabel 是一个专门用于读取、处理和保存医学影像文件的 Python 工具包，支持 NIfTI（.nii/.nii.gz）、Analyze、MINC、MGH/MGZ 等主流格式，并能将医学影像数据加载为 NumPy 数组，同时提供 affine 矩阵、空间方向、头信息等完整元数据管理。它是医学影像 AI、神经影像（fMRI/dMRI）、深度学习预处理与科研分析中最常用的文件 I/O 库，也是 MONAI、PyTorch 及各种医学影像工具链的底层基础组件之一。</p><h3 id="_7-2-安装当前稳定版-推荐" tabindex="-1">7.2.安装当前稳定版（推荐） <a class="header-anchor" href="#_7-2-安装当前稳定版-推荐" aria-label="Permalink to “7.2.安装当前稳定版（推荐）”">​</a></h3><p>使用 pip 安装 NiBabel 的最新发布版本：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nibabel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_7-3-安装最新开发版" tabindex="-1">7.3 安装最新开发版 <a class="header-anchor" href="#_7-3-安装最新开发版" aria-label="Permalink to “7.3 安装最新开发版”">​</a></h3><p>如果希望使用 GitHub 上的最新开发进度（未发布版本），可运行：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git+https://github.com/nipy/nibabel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_7-4-以-可编辑模式-安装-开发-nibabel-源码时使用" tabindex="-1">7.4 以&quot;可编辑模式&quot;安装（开发 NiBabel 源码时使用） <a class="header-anchor" href="#_7-4-以-可编辑模式-安装-开发-nibabel-源码时使用" aria-label="Permalink to “7.4 以&quot;可编辑模式&quot;安装（开发 NiBabel 源码时使用）”">​</a></h3><p>当你需要修改 NiBabel 源码、参与开发或调试时，可以以可编辑模式安装：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/nipy/nibabel.git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./nibabel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这种方式会让 Python 直接引用本地源码目录，修改后无需重新安装。</p><h3 id="_7-5-测试-nibabel" tabindex="-1">7.5.测试 NiBabel <a class="header-anchor" href="#_7-5-测试-nibabel" aria-label="Permalink to “7.5.测试 NiBabel”">​</a></h3><h4 id="_1-在开发过程中运行完整测试-推荐开发者使用-tox" tabindex="-1"><strong>1. 在开发过程中运行完整测试（推荐开发者使用 tox）</strong> <a class="header-anchor" href="#_1-在开发过程中运行完整测试-推荐开发者使用-tox" aria-label="Permalink to “1. 在开发过程中运行完整测试（推荐开发者使用 tox）”">​</a></h4><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/nipy/nibabel.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nibabel</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tox</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>​<code>tox</code> 会自动创建虚拟环境并在多个 Python 版本下测试 NiBabel，适合参与开发的用户。</p><h4 id="_2-测试已安装的-nibabel" tabindex="-1"><strong>2. 测试已安装的 NiBabel</strong> <a class="header-anchor" href="#_2-测试已安装的-nibabel" aria-label="Permalink to “2. 测试已安装的 NiBabel”">​</a></h4><p>如果你只想测试当前系统中安装的 NiBabel，可安装测试依赖并运行 pytest：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nibabel[test]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pytest</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --pyargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nibabel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这将运行 NiBabel 的全部测试模块，确保安装正常。</p><p>‍</p>`,227)])])}const c=s(l,[["render",t]]);export{b as __pageData,c as default};
